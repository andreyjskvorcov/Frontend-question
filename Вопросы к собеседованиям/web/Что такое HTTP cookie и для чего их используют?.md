HTTP cookie (веб-куки) — это небольшой фрагмент данных, который сервер отправляет браузеру пользователя для хранения и последующей передачи с новыми запросами к этому же серверу. Cookie позволяют поддерживать состояние в протоколе HTTP, который по своей природе является безсостоящим.[1][2]

---

### Для чего используют cookie

- **Управление сеансом:** поддержка аутентификации, сохранение данных сессии, корзин покупок.
- **Персонализация:** хранение предпочтений пользователя, тем оформления, языка и т.д.
- **Мониторинг:** отслеживание пользовательского поведения для аналитики и рекламы.

---

### Как работают cookie

| Шаг     | Описание                                                                                                                   |
| ------- | -------------------------------------------------------------------------------------------------------------------------- |
| Сервер  | В ответ на HTTP-запрос отправляет заголовок `Set-Cookie` с ключом, значением и опциональными атрибутами                    |
| Браузер | Сохраняет cookie и в каждом последующем запросе к этому же серверу добавляет заголовок `Cookie` с этими данными            |
| Сервер  | Получает cookie с запросом, распознаёт пользователя и может предоставлять персонализированный контент или сохранять сессию |

---

### Пример заголовков HTTP с cookie

**Ответ сервера:**

```
HTTP/1.1 200 OK
Set-Cookie: sessionId=abc123; Path=/; HttpOnly; Secure; Max-Age=3600
```

**Запрос от клиента:**

```
GET /dashboard HTTP/1.1
Cookie: sessionId=abc123
```

---

### Атрибуты cookie

| Атрибут                 | Описание                                                                |
| ----------------------- | ----------------------------------------------------------------------- |
| `HttpOnly`              | Запрещает доступ к cookie со стороны JavaScript (повышает безопасность) |
| `Secure`                | Позволяет отправлять cookie только по HTTPS                             |
| `Domain`                | Определяет домен, для которого cookie действуют                         |
| `Path`                  | Указывает путь на сервере, в рамках которого cookie будет отправляться  |
| `Expires` или `Max-Age` | Время жизни cookie — когда браузер удалит cookie                        |
| `SameSite`              | Регулирует отправку cookie при межсайтовых запросах, снижая риск CSRF   |

---

### Работа с cookie через JavaScript

```js
// Установка куки
document.cookie = 'username=JohnDoe; path=/; max-age=3600';

// Чтение куки
console.log(document.cookie);
```

---

### Итог

Куки — важный механизм, позволяющий «держать» состояние пользователя в безсостоящем протоколе HTTP, поддерживать сессии, персонализировать опыт пользователя и реализовывать функции безопасности. При этом важно грамотно использовать атрибуты cookie для защиты данных и соблюдения политики конфиденциальности.[2][6][1]

[1](https://developer.mozilla.org/ru/docs/Web/HTTP/Guides/Cookies)
[2](https://habr.com/ru/companies/avito/articles/710674/)
[3](https://ru.wikipedia.org/wiki/Cookie)
[4](https://skillbox.ru/media/marketing/vsye-chto-nuzhno-znat-o-faylakh-cookie-v-odnoy-state/)
[5](https://learn.microsoft.com/ru-ru/aspnet/web-api/overview/advanced/http-cookies)
[6](https://habr.com/ru/articles/710578/)
[7](https://proglib.io/p/veb-autentifikaciya-fayly-cookies-ili-tokeny-2021-08-14)
[8](https://www.hse.ru/cookie.html)
[9](https://allwidgets.ru/blog/kuki-na-sajte-chto-eto-i-dlya-chego-oni-nuzhny-primery/)
[10](https://grandhotelanapa.ru/cookie/)
