# 3.  ### Какие у VueJS методы жизненного цикла?

Методы жизненного цикла - это ответ на вопрос, как работает библиотека "за кулисами". Используя эти методы, вы знаете в какой момент ваш компонент создан, добавлен в DOM-дерево, обновлен или разрушен. Давайте посмотрим на эту диаграмму, перед тем как обсудить каждый метод отдельно,

    <img src="https://github.com/magisters-org/vuejs-interview-questions-russian/blob/master/images/vuelifecycle.png">

    1. **Создание (инициализация):**
        Методы, вызываемые до и во время создания компонента, позволяют выполнять действия до того, как компонент будет добавлен в DOM. Вы можете использовать эти методы если хотите установить какие-то данные или что-то настроить в момент рендера на клиенте или сервере. Методы создания, в отличие от остальных методов, вызываются в момент серверного рендера.
        1. beforeCreate:
           Этот метод вызывается в самом начале инициализации компонента. В этот момент данные и события компонента готовятся к активации. На этом этапе данные еще не реактивны, а события все еще не установлены.
        ```javascript
            new Vue({
              data: {
               count: 10
              },
              beforeCreate: function () {
                console.log('Nothing gets called at this moment')
                // `this` указывает на VM (view-model) инстанс
                console.log('count is ' + this.count); // count = undefined
              }
            })
         ```
        2. created:
            Этот метод вызывается когда Vue установил все события и наблюдает за данными. На этом этапе все события активны и имеют доступ к реактивным данным компонента, не смотря на то, что компонент еще не смонтирован или отрендерен.
        ```javascript
          new Vue({
            data: {
             count: 10
            },
            created: function () {
              // `this` указывает на VM (view-model) инстанс
              console.log('count is: ' + this.count) // count = 10
            }
          })
        ```
        **ВНИМАНИЕ:** Запомните, что вы не имеете доступа к DOM-элементу или целевому монтируемому элементу (this.$el) внутри методов создания компонента.
    2. **Монтирование (вставка в DOM):**
        Методы монтирования самые используемые методы и позволяют получить доступ к компоненту непосредственно перед и после первого рендера.
        1. beforeMount:
            Этот метод позволяет получить доступ к компоненту непосредственно перед его монтированием (первым рендером).
        ```javascript
          new Vue({
            beforeMount: function () {
              // `this` points to the view model instance
              console.log(`this.$el вот-вот будет вмонтирован`);
            }
          })
        ```
        2. mounted:
            Это самый популярный метод в котором вы имеете полный доступ к реактивным данным, компоненты, шаблону и отрендеренному DOM (через this.$el). Самое распространенное использование, это получение данных для компонента (например, через AJAX).
        ```javascript
          <div id="app">
            <p>Это текст в компоненте</p>
          </div>
          new Vue({
            el: ‘#app’,
            mounted: function() {
              console.log(this.$el.textContent); // "Это текст в компоненте"
            }
          })
        ```
    3. **Обновление (поиск отличий и перерендер):**
        Методы обновления вызываются когда реактивные данные были изменены, или что-то еще вызвало перерендер.
        1. beforeUpdate:
        Этот методы вызывается после изменений данных в компоненте, но перед применением этих изменений на DOM.
        ```javascript
          <div id="app">
            <p>{{counter}}</p>
          </div>
          ...// другой код
          new Vue({
            el: '#app',
            data() {
              return {
                counter: 0
              }
            },
            created: function() {
              setInterval(() => {
                this.counter++
              }, 1000)
            },

            beforeUpdate: function() {
              console.log(this.counter) // Логирует значение счетчика каждую секунду, перед обновлением DOM.
            }
          })
        ```
        2. updated:
            This hook runs after data changes on your component and the DOM re-renders.
        ```javascript
          <div id="app">
            <p ref="dom">{{counter}}</p>
          </div>
          ...// другой код
          new Vue({
            el: '#app',
            data() {
              return {
                counter: 0
              }
            },
            created: function() {
              setInterval(() => {
                this.counter++
              }, 1000)
            },
            updated: function() {
              console.log(+this.$refs['dom'].textContent === this.counter) // логирует true каждую секунду
            }
          })
        ```
    4. **Демонтирование (отключение):**
        Методы демонтирования позволяют выполнять действия когда ваш компонент по каким-либо причинам демонтируется (например, из-за v-if). В эти моменты можно очистить какие-либо даные из памяти или отправить аналитические данные.
        1. beforeDestroy:
        `beforeDestroy` вызывается прямо перед отключением. Если вы хотите очистить события или подписки на какие-либо реактивные данные, это пожалуй лучший момент чтобы сделать это. Ваш компонент все еще доступен и полностью функционирует.
        ```javascript
        new Vue ({
          data() {
            return {
              message: 'Добро пожаловать в мир VueJS'
            }
          },

          beforeDestroy: function() {
            this.message = null
            delete this.message
          }
        })
        ```
        2. destroyed:
        Этот метод вызывается сразу после того, как компонент был полностью разрушен, директивы отвязаны и обработчики событий удалены.
        ```javascript
        new Vue ({
            destroyed: function() {
              console.log(this) // Здесь нечего логировать
            }
          })
        ```