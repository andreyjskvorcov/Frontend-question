
---

# Как эффективно передавать данные между компонентами?

Разбираем разницу между `props` и `emit` в Vue.js и способы эффективной передачи данных между компонентами.

---

## Разница между props и emit

- **`props`** позволяют передавать данные от родителя к дочернему компоненту.
- **`emit`** используется для передачи данных от дочернего компонента к родительскому через события.

---

## Как работают props?

`props` используются для передачи данных в дочерний компонент. Эти данные **нельзя изменять внутри дочернего компонента**.

### Пример использования props

```vue
<script setup>
defineProps(['message']);
</script>

<template>
  <p>Сообщение: {{ message }}</p>
</template>
```

### Родительский компонент передаёт значение

```vue
<template>
  <ChildComponent message="Привет, Vue!" />
</template>
```

`message` передаётся в `ChildComponent`, но внутри него остаётся неизменяемым.

---

## Как работает emit?

`emit` используют, когда дочерний компонент должен отправить данные родителю, например, при обработке событий.

### Пример использования emit

**Дочерний компонент:**

```vue
<script setup>
import { defineEmits } from 'vue';

const emit = defineEmits(['updateMessage']);
</script>

<template>
  <button @click="emit('updateMessage', 'Новое сообщение')">
    Изменить сообщение
  </button>
</template>
```

**Родительский компонент:**

```vue
<script setup>
import { ref } from 'vue';
import ChildComponent from './ChildComponent.vue';

const message = ref('Начальное сообщение');
</script>

<template>
  <p>Сообщение: {{ message }}</p>
  <ChildComponent @updateMessage="(newMsg) => (message = newMsg)" />
</template>
```

Дочерний компонент через событие передаёт новое значение `message` родителю.

---

## v-model

Для двусторонней синхронизации данных между родителем и дочерним компонентом используют `v-model`.

### В родительском компоненте

```vue
<ChildComponent v-model="parentMessage" />
```

### В дочернем компоненте

```vue
<script setup>
defineProps(['modelValue']);
const emit = defineEmits(['update:modelValue']);
</script>

<template>
  <input
    :value="modelValue"
    @input="emit('update:modelValue', $event.target.value)"
  />
</template>
```

Теперь `parentMessage` будет автоматически обновляться при изменении значения в дочернем компоненте.

---

## Когда использовать props, emit и v-model?

| Задача                                   | Использовать |
| ---------------------------------------- | ------------ |
| Передать данные от родителя к дочернему  | `props`      |
| Передать событие от дочернего к родителю | `emit`       |
| Двусторонняя привязка данных             | `v-model`    |

---

## Итог

- `props` — для передачи данных вниз по иерархии компонентов.
- `emit` — для отправки данных от дочернего компонента к родителю.
- `v-model` — для двусторонней синхронизации данных.

Правильное понимание этих механизмов позволяет делать код более структурированным и управляемым.

---

Источник: [Как эффективно передавать данные между компонентами — hackfrontend](https://www.hackfrontend.com/docs/vue/props-vs-emit)[1]

[1](https://www.hackfrontend.com/docs/vue/props-vs-emit)
