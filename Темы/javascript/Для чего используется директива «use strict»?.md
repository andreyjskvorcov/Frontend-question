Для чего используется директива «use strict»?

Директива `"use strict"` используется в JavaScript для включения строгого режима выполнения кода. Когда эта директива указана в начале скрипта или функции, JavaScript выполняет код в строгом режиме, что означает, что некоторые неявные или устаревшие функции и конструкции языка будут запрещены или изменены, а некоторые ошибки будут вызывать исключения.  
В основном используется для:

- Предотвращение ошибок
- Устранение неявных глобальных переменных
- Запрет использования некоторых устаревших функций и конструкций
- Улучшение безопасности
- Помощь в оптимизации движков JavaScript за счёт более строгих правил

---

### Дополнения и примеры:

- Запрет на использование `with` — конструкция `with` отключена в строгом режиме, так как усложняет анализ кода:

  ```js
  "use strict";
  with (Math) {
    // Ошибка в строгом режиме
    let x = cos(2);
  }
  ```

- В строгом режиме `this` в функциях, вызванных без объекта, станет `undefined` вместо глобального объекта:

  ```js
  "use strict";
  function showThis() {
    console.log(this);
  }
  showThis(); // undefined вместо window (в браузере)
  ```

- Запрет на дублирование имён свойств в объектных литералах:

  ```js
  "use strict";
  const obj = {
    prop: 1,
    prop: 2, // Ошибка
  };
  ```

- Использование переменных или параметров как идентификаторов с именами `eval` или `arguments` запрещено:

  ```js
  "use strict";
  let eval = 10; // Ошибка
  ```

- Запрет на присваивание значения свойствам только для чтения:

  ```js
  "use strict";
  const obj = {};
  Object.defineProperty(obj, "x", { value: 42, writable: false });
  obj.x = 9; // Ошибка в строгом режиме
  ```

- Пример использования в функции:

  ```js
  function example() {
    "use strict";
    undeclaredVar = 123; // Ошибка, переменная не объявлена
  }
  example();
  ```

- Можно включать строгий режим на уровне отдельной функции, не затрагивая весь скрипт:
  ```js
  function nonStrict() {
    x = 5; // Создастся глобальная переменная
  }
  function strict() {
    "use strict";
    x = 5; // Ошибка: x не объявлена
  }
  ```

---

Директива `"use strict"` помогает писать более безопасный и предсказуемый код, уменьшает вероятность ошибок и улучшает производительность современных движков JavaScript.

Вот дополнения с примерами влияния строгого режима на разработку с Vue.js и Nuxt.js:

---

### Использование `"use strict"` в Vue.js и Nuxt.js

- По умолчанию современные сборщики (Webpack, Vite) и транспайлеры (Babel, TypeScript) включают строгий режим автоматически во всех файлах, что повышает качество кода во Vue/Nuxt проектах.
- В методах компонентов Vue строгий режим помогает избежать неявных ошибок, например, при опечатках в именах переменных:
  ```js
  export default {
    methods: {
      increment() {
        "use strict";
        countr++; // Ошибка: countr не объявлена — предотвращает баги
      },
    },
  };
  ```
- При написании Vue директив и плагинов строгий режим исключает ошибки с невидимыми глобальными переменными и запрещает конфликты с именами параметров, что особенно важно при масштабировании.
- В Nuxt, где часто используются async/await и SSR, строгий режим обеспечивает предсказуемость работы с асинхронными функциями и контекстом исполнения:
  ```js
  export default {
    async asyncData({ params }) {
      "use strict";
      let data = await fetchData(params.id);
      return { data };
    }
  }
  ```
- При миграции с Nuxt 2 на Nuxt 3 строгий режим уже обязательный, что позволяет использовать современные возможности JS без опасений столкнуться с «тихими» ошибками.
- В TypeScript-проектах на Vue/Nuxt строгий режим сочетается с tsconfig опцией `strict` для максимальной типовой безопасности и устранения ошибок на этапе компиляции.

---

### Итог

Строгий режим является важной частью современного фронтенд-разработчика Vue/Nuxt, повышая безопасность, предотвращая ошибки, и улучшая понимание и поддерживаемость кода. Он работает «за кулисами» благодаря используемым инструментам и помогает писать более качественные приложения.

